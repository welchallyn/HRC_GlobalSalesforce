<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>49.0</apiVersion>
    <assignments>
        <name>Assign_Actual_End_date</name>
        <label>Assign Actual End date</label>
        <locationX>406</locationX>
        <locationY>295</locationY>
        <assignmentItems>
            <assignToReference>WOActualEndDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ParentWO.HRCFSL_Actual_End__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>WOActualStartDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ParentWO.HRCFSL_Actual_Start__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>WOAssignedEngineer</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ParentWO.HRCFSL_Assigned_Engineer__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Child_Work_order</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Billing_On_Date</name>
        <label>Assign Billing On Date</label>
        <locationX>1127</locationX>
        <locationY>1263</locationY>
        <assignmentItems>
            <assignToReference>ChildWO.HRCFSL_Patient_on_date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ParentWO.HRCFSL_Patient_on_date__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Child_WO_Status</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_new_SA_to_SA_List</name>
        <label>Assign new SA to SA List</label>
        <locationX>1714</locationX>
        <locationY>427</locationY>
        <assignmentItems>
            <assignToReference>SAListToUpdate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>SARecord</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Service_Appointment_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_updated_SA_to_List</name>
        <label>Assign updated SA to List</label>
        <locationX>1727</locationX>
        <locationY>736</locationY>
        <assignmentItems>
            <assignToReference>Serviceappointments</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>SAMSREC</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Over_Multisign_Record</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_WO_IDs</name>
        <label>Assign WO IDs</label>
        <locationX>536</locationX>
        <locationY>856</locationY>
        <assignmentItems>
            <assignToReference>MultisignRecord</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>ChildWO</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Retrieve_Child_WO</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Update Child WO List</description>
        <name>Update_Child_WO_List</name>
        <label>Update Child WO List</label>
        <locationX>982</locationX>
        <locationY>922</locationY>
        <assignmentItems>
            <assignToReference>ChildWOItemtobeUpdated</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>ChildWO</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Retrieve_Child_WO</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Assign Child WO Status to completed</description>
        <name>Update_Child_WO_Status</name>
        <label>Update Child WO Status</label>
        <locationX>1387</locationX>
        <locationY>1101</locationY>
        <assignmentItems>
            <assignToReference>ChildWO.Status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>SC</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildWO.HRCFSL_Actual_End__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>WOActualEndDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildWO.HRCFSL_Actual_Start__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>WOActualStartDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildWO.HRCFSL_Assigned_Engineer__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>WOAssignedEngineer</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildWO.HRCFSL_Ward__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ParentWO.HRCFSL_Ward__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildWO.HRCFSL_Patient_Room__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ParentWO.HRCFSL_Patient_Room__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildWO.HRCFSL_Contact_Title__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ParentWO.HRCFSL_Contact_Title__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildWO.HRCFSL_Contact_First_Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ParentWO.HRCFSL_Contact_First_Name__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildWO.HRCFSL_Contact_Last_Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ParentWO.HRCFSL_Contact_Last_Name__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildWO.HRCFSL_Contact_Department__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ParentWO.HRCFSL_Contact_Department__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildWO.HRCFSL_Contact_Email__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ParentWO.HRCFSL_Contact_Email__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildWO.HRCFSL_Contact_Phone__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ParentWO.HRCFSL_Contact_Phone__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildWO.HRCFSL_PO__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ParentWO.HRCFSL_PO__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildWO.HRCFSL_Patient_Off_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ParentWO.HRCFSL_Patient_Off_Date__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildWO.HRCFSL_Signee_Title__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ParentWO.HRCFSL_Signee_Title__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildWO.HRCFSL_Signee_Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ParentWO.HRCFSL_Signee_Name__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildWO.HRCFSL_Signee_Email__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ParentWO.HRCFSL_Signee_Email__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Child_WO_can_be_Closed</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_ChildWO_Cannot_be_Closed</name>
        <label>Update ChildWO Cannot be Closed</label>
        <locationX>980</locationX>
        <locationY>762</locationY>
        <assignmentItems>
            <assignToReference>ChildWOcanbeclosed</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Retrieve_Child_WO</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_SA_Status</name>
        <label>Update SA Status</label>
        <locationX>1714</locationX>
        <locationY>246</locationY>
        <assignmentItems>
            <assignToReference>SARecord.Status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_new_SA_to_SA_List</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Also_Has_Kit_Children</name>
        <label>Also Has Kit Children</label>
        <locationX>1170</locationX>
        <locationY>353</locationY>
        <defaultConnectorLabel>No Kit Children</defaultConnectorLabel>
        <rules>
            <name>Kit_Children_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChildWOcanbeclosed</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Child_WO</targetReference>
            </connector>
            <label>Kit Children Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Multi_Sign_Open_SA</name>
        <label>Check Multi Sign Open SA</label>
        <locationX>524</locationX>
        <locationY>1078</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Open_SA</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>ChildWO.HRCFSL_Open_SAs_related_to_the_WO__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ChildWO.HRCFSL_Open_SAs_related_to_the_WO__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_WO_IDs</targetReference>
            </connector>
            <label>Open SA</label>
        </rules>
    </decisions>
    <decisions>
        <name>Checking_Mulit_Sign_Child</name>
        <label>Checking Mulit Sign Child</label>
        <locationX>754</locationX>
        <locationY>1082</locationY>
        <defaultConnector>
            <targetReference>Should_Copy_Billing_On_Date</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Is_MultiChild</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChildWO.HRCFSL_Multisign__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_Multi_Sign_Open_SA</targetReference>
            </connector>
            <label>Is MultiChild</label>
        </rules>
    </decisions>
    <decisions>
        <description>Decision to confirm whether the Child WO can be Closed or not.</description>
        <name>Child_WO_can_be_Closed</name>
        <label>Child WO can be Closed?</label>
        <locationX>1241</locationX>
        <locationY>839</locationY>
        <defaultConnector>
            <targetReference>Update_ChildWO_Cannot_be_Closed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Child WO can not be closed</defaultConnectorLabel>
        <rules>
            <name>HRCFSL_Child_WO_can_be_Closed</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>ChildWO.HRCFSL_Open_SAs_related_to_the_WO__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ChildWO.HRCFSL_Open_SAs_related_to_the_WO__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Child_WO_List</targetReference>
            </connector>
            <label>Child WO can be Closed</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_Actual_end_is_blank</name>
        <label>If Actual end is blank</label>
        <locationX>537</locationX>
        <locationY>54</locationY>
        <defaultConnector>
            <targetReference>Get_Child_Work_order</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>WO_Actual_end_date_is_not_null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ParentWO.HRCFSL_Actual_End__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ParentWO.HRCFSL_Actual_Start__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ParentWO.HRCFSL_Assigned_Engineer__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Actual_End_date</targetReference>
            </connector>
            <label>WO Actual end date is not null</label>
        </rules>
    </decisions>
    <decisions>
        <description>For checking if a child WO can be closed.</description>
        <name>Is_Child_WO_Can_be_Closed</name>
        <label>Is Child WO Can be Closed</label>
        <locationX>1002</locationX>
        <locationY>612</locationY>
        <defaultConnector>
            <targetReference>Update_Parent_WO_Status</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Multisign_WO_Not_NUll</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>MultisignRecord</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_Over_Multisign_Record</targetReference>
            </connector>
            <label>Multisign WO Not NUll</label>
        </rules>
        <rules>
            <name>Correct</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChildWOcanbeclosed</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Child_WO</targetReference>
            </connector>
            <label>Correct</label>
        </rules>
    </decisions>
    <decisions>
        <description>Is Child WO Exist?</description>
        <name>Is_Child_WO_Exist</name>
        <label>Is Child WO Exist?</label>
        <locationX>640</locationX>
        <locationY>492</locationY>
        <defaultConnector>
            <targetReference>Update_Parent_WO_Actual_End_Date</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Child_WO_Exist</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChildWOLst</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Retrieve_Child_WO</targetReference>
            </connector>
            <label>Child WO Exist</label>
        </rules>
    </decisions>
    <decisions>
        <name>Not_Blank_SA_To_Update</name>
        <label>Not Blank SA To Update</label>
        <locationX>1440</locationX>
        <locationY>47</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Not_Blank</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>SAListToUpdate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Multi_Sign_SA</targetReference>
            </connector>
            <label>Not Blank</label>
        </rules>
    </decisions>
    <decisions>
        <name>Should_Copy_Billing_On_Date</name>
        <label>Should Copy Billing On Date</label>
        <locationX>988</locationX>
        <locationY>1085</locationY>
        <defaultConnector>
            <targetReference>Update_Child_WO_Status</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Do Not Copy Billing On Date</defaultConnectorLabel>
        <rules>
            <name>Copy_Billing_On_Date</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChildWO.HRCFSL_Patient_on_date__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Billing_On_Date</targetReference>
            </connector>
            <label>Copy Billing On Date</label>
        </rules>
    </decisions>
    <description>RV: Update to copy down more information from parent work order to child work orders in kitted scenario.
PD: Updated to only process SA&apos;s in Awaiting signature for Child WO&apos;s (previously the flow would take the first SA in the list) - CR00026669</description>
    <interviewLabel>Close Child Work Order {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Close Child Work Order</label>
    <loops>
        <name>Loop_Over_Multisign_Record</name>
        <label>Loop Over Multisign Record</label>
        <locationX>1437</locationX>
        <locationY>688</locationY>
        <assignNextValueToReference>ChildMSWO</assignNextValueToReference>
        <collectionReference>MultisignRecord</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>MultiSign_Child_SA</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Service_Appointment_Loop</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <description>for looping out Child WO&apos;s.</description>
        <name>Retrieve_Child_WO</name>
        <label>Retrieve Child WO</label>
        <locationX>761</locationX>
        <locationY>855</locationY>
        <assignNextValueToReference>ChildWO</assignNextValueToReference>
        <collectionReference>ChildWOLst</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Checking_Mulit_Sign_Child</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Is_Child_WO_Can_be_Closed</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Service_Appointment_Loop</name>
        <label>Service Appointment Loop</label>
        <locationX>1447</locationX>
        <locationY>356</locationY>
        <assignNextValueToReference>SARecord</assignNextValueToReference>
        <collectionReference>Serviceappointments</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Update_SA_Status</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Not_Blank_SA_To_Update</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <description>For Getting all the child work order
PD: changed to get only OPEN work orders (Feb 24, 2020)</description>
        <name>Get_Child_Work_order</name>
        <label>Get Child Work order</label>
        <locationX>646</locationX>
        <locationY>295</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_Child_WO_Exist</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ParentWorkOrderId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>WorkOrderId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>SC</stringValue>
            </value>
        </filters>
        <filters>
            <field>Status</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>SE</stringValue>
            </value>
        </filters>
        <object>WorkOrder</object>
        <outputReference>ChildWOLst</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Status</queriedFields>
        <queriedFields>HRCFSL_Open_SAs_related_to_the_WO__c</queriedFields>
        <queriedFields>HRCFSL_Multisign__c</queriedFields>
        <queriedFields>HRCFSL_Patient_on_date__c</queriedFields>
        <queriedFields>HRCFSL_Patient_Off_Date__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Parent_WO</name>
        <label>Get Parent WO</label>
        <locationX>390</locationX>
        <locationY>51</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>If_Actual_end_is_blank</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>WorkOrderId</elementReference>
            </value>
        </filters>
        <object>WorkOrder</object>
        <outputReference>ParentWO</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>HRCFSL_Actual_End__c</queriedFields>
        <queriedFields>HRCFSL_Multisign__c</queriedFields>
        <queriedFields>HRCFSL_Actual_Start__c</queriedFields>
        <queriedFields>HRCFSL_Assigned_Engineer__c</queriedFields>
        <queriedFields>HRCFSL_Ward__c</queriedFields>
        <queriedFields>HRCFSL_Patient_Room__c</queriedFields>
        <queriedFields>HRCFSL_Contact_Title__c</queriedFields>
        <queriedFields>HRCFSL_Contact_First_Name__c</queriedFields>
        <queriedFields>HRCFSL_Contact_Last_Name__c</queriedFields>
        <queriedFields>HRCFSL_Contact_Department__c</queriedFields>
        <queriedFields>HRCFSL_Contact_Email__c</queriedFields>
        <queriedFields>HRCFSL_Contact_Phone__c</queriedFields>
        <queriedFields>HRCFSL_PO__c</queriedFields>
        <queriedFields>HRCFSL_Patient_on_date__c</queriedFields>
        <queriedFields>HRCFSL_Patient_Off_Date__c</queriedFields>
        <queriedFields>HRCFSL_Signee_Title__c</queriedFields>
        <queriedFields>HRCFSL_Signee_Name__c</queriedFields>
        <queriedFields>HRCFSL_Signee_Email__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>MultiSign_Child_SA</name>
        <label>MultiSign Child SA</label>
        <locationX>1724</locationX>
        <locationY>596</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_updated_SA_to_List</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ParentRecordId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ChildMSWO.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Awaiting signature</stringValue>
            </value>
        </filters>
        <object>ServiceAppointment</object>
        <outputReference>SAMSREC</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Status</queriedFields>
    </recordLookups>
    <recordUpdates>
        <description>For Updating Child Workorder.</description>
        <name>Update_Child_WO</name>
        <label>Update Child WO</label>
        <locationX>1013</locationX>
        <locationY>447</locationY>
        <connector>
            <targetReference>Update_Parent_WO_Actual_End_Date</targetReference>
        </connector>
        <inputReference>ChildWOItemtobeUpdated</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Multi_Sign_SA</name>
        <label>Update Multi Sign SA</label>
        <locationX>1252</locationX>
        <locationY>219</locationY>
        <connector>
            <targetReference>Also_Has_Kit_Children</targetReference>
        </connector>
        <inputReference>SAListToUpdate</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>for Updating Parent WO Actual End Date.</description>
        <name>Update_Parent_WO_Actual_End_Date</name>
        <label>Update Parent WO Actual End Date</label>
        <locationX>1067</locationX>
        <locationY>226</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>HRCFSL_Actual_End__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>WorkOrderId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>HRCFSL_Actual_End__c</field>
            <value>
                <elementReference>WOActualEndDate</elementReference>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <recordUpdates>
        <description>Update Parent WO Status</description>
        <name>Update_Parent_WO_Status</name>
        <label>Update Parent WO Status</label>
        <locationX>1150</locationX>
        <locationY>453</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>WorkOrderId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <elementReference>PriorParentWOStatus</elementReference>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <start>
        <locationX>50</locationX>
        <locationY>50</locationY>
        <connector>
            <targetReference>Get_Parent_WO</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>ChildMSWO</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>WorkOrder</objectType>
    </variables>
    <variables>
        <description>Child WO variable.</description>
        <name>ChildWO</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>WorkOrder</objectType>
    </variables>
    <variables>
        <description>Boolean flag to check if the Child WO can be closed or not.</description>
        <name>ChildWOcanbeclosed</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </variables>
    <variables>
        <description>list of Child WO Item needs to be Updated</description>
        <name>ChildWOItemtobeUpdated</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>WorkOrder</objectType>
    </variables>
    <variables>
        <description>List of child workorders related to particular WO.</description>
        <name>ChildWOLst</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>WorkOrder</objectType>
    </variables>
    <variables>
        <name>MultisignRecord</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>WorkOrder</objectType>
    </variables>
    <variables>
        <name>MultiSignWoIDs</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>ParentWO</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>WorkOrder</objectType>
    </variables>
    <variables>
        <description>previous value of  Parent WO Status</description>
        <name>PriorParentWOStatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>SAListToUpdate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ServiceAppointment</objectType>
    </variables>
    <variables>
        <name>SAMSREC</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ServiceAppointment</objectType>
    </variables>
    <variables>
        <name>SARecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ServiceAppointment</objectType>
    </variables>
    <variables>
        <name>Serviceappointments</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ServiceAppointment</objectType>
    </variables>
    <variables>
        <name>WOActualEndDate</name>
        <dataType>DateTime</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>$Flow.CurrentDateTime</elementReference>
        </value>
    </variables>
    <variables>
        <name>WOActualStartDate</name>
        <dataType>DateTime</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>WOAssignedEngineer</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Contains the id of the work order which was updated</description>
        <name>WorkOrderId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
