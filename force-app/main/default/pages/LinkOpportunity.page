<apex:page standardController="Opps_Related_to_Clinical_Program__c" tabStyle="Opportunity" id="p">
     <script type="text/javascript">
        function openLookup(baseURL, width, modified, searchParam){
            var originalbaseURL = baseURL;
            var originalwidth = width;
            var originalmodified = modified;
            var originalsearchParam = searchParam;
            var lookupType = baseURL.substr(baseURL.length-3, 3);
            if (modified == '1') baseURL = baseURL + searchParam;
            var isCustomLookup = false;
            // Following "001" is the lookup type for Account object so change this as per your standard or custom object
            if(baseURL.indexOf('relatedOpp') > -1){
                isCustomLookup = true;
                var urlArr = baseURL.split("&");
                var txtId = '';
                if(urlArr.length > 2) {
                    urlArr = urlArr[1].split('=');
                    txtId = urlArr[1];

                    
                }

                // Following is the url of Custom Lookup page. You need to change that accordingly
                baseURL = "/apex/OpportunityLookup?txt=" + txtId;
                // Following is the id of apex:form control "myForm". You need to change that accordingly
                
                baseURL += "&frm=" + escapeUTF("{!$Component.frm}");
                baseURL += "&oppId=" + document.getElementById('p:frm:pb:pbs:clinicalOpp_lkid').value;

                if (modified == '1') {
                    baseURL = baseURL + "&lksearch=" + searchParam;
                }
            }
            if(isCustomLookup == true){
                openPopup(baseURL, "lookup", 350, 480, "width="+width+",height=480,toolbar=no,status=no,directories=no,menubar=no,resizable=yes,scrollable=no", true);
            }
            else {
                if (modified == '1') originalbaseURL = originalbaseURL + originalsearchParam;

                openPopup(originalbaseURL, "lookup", 350, 480, "width="+originalwidth+",height=480,toolbar=no,status=no,directories=no,menubar=no,resizable=yes,scrollable=no", true);
            }
        }
    </script> 
   	<apex:sectionHeader title="Opps Related to Clinical Program Edit" subtitle="Link Opps Related to Clinical Program"/>
    <apex:pageMessages />
    <apex:form id="frm">
        <apex:pageBlock title="Opps Related to Clinical Program Edit"  mode="edit" id="pb">
            <apex:pageBlockButtons location="both">
             	<apex:commandButton action="{!save}" value="Save"/>
                <apex:commandButton action="{!cancel}" value="Cancel"/>
            </apex:pageBlockButtons>
            <apex:pageBlockSection title="Opps Related to Clinical Program Information" columns="2" id="pbs">
                <apex:inputField value="{!Opps_Related_to_Clinical_Program__c.Impacted_Opportunity__c}" required="true" id="relatedOpp"/>
                <apex:inputField value="{!Opps_Related_to_Clinical_Program__c.Clinical_Program__c}" id="clinicalOpp"/>
                <apex:inputField value="{!Opps_Related_to_Clinical_Program__c.Opportunity_Generated_From_Clinical_Prog__c}" />
                <apex:inputField value="{!Opps_Related_to_Clinical_Program__c.Impacted_Opp_Calculate__c}"/>
            </apex:pageBlockSection>
        </apex:pageBlock>
	</apex:form>
</apex:page>