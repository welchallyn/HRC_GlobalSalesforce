<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>HRCFSL_SWORD_Require_Ward</fullName>
    <active>true</active>
    <description>If &apos;Require Ward&apos; is true, a Ward must be input in order to set the Service Appointment status to &apos;Awaiting Signature&apos;. Otherwise, a Service Appointment may be put into &apos;Awaiting Signature&apos; with or without a Ward.</description>
    <errorConditionFormula>AND(
				 NOT($Setup.HRCFSL_Org_Exception_Rule__c.HRCFSL_Validation_Rule__c),
				
				VLOOKUP(
								 $ObjectType.HRCFSL_SWORD__c.Fields.HRCFSL_Require_Ward__c,
								 $ObjectType.HRCFSL_SWORD__c.Fields.Name,
								 HRCFSL_Work_Order__r.HRCFSL_SWORD_ID__c) = TRUE,
				ISBLANK( HRCFSL_Work_Order__r.HRCFSL_Ward_Name__c),  HRCFSL_Work_Order__r.Country &lt;&gt; &apos;US&apos;,
				 ISPICKVAL(Status, &quot;Awaiting Signature&quot;))</errorConditionFormula>
    <errorMessage>Ward is required.</errorMessage>
</ValidationRule>
