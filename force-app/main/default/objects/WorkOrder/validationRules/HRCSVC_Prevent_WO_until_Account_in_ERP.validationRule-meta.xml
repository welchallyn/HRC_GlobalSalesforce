<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>HRCSVC_Prevent_WO_until_Account_in_ERP</fullName>
    <active>false</active>
    <description>SE-1462 &amp; SE-115</description>
    <errorConditionFormula>AND(
NOT( $Setup.HRCFSL_Org_Exception_Rule__c.HRCFSL_Validation_Rule__c ),
NOT( ISBLANK( AccountId )),
OR( (AND(Account.BillingCountry = &apos;US&apos; || Account.BillingCountry = &apos;United States&apos;,  ISBLANK( Account.Reltio_Id__c ))) , 
     AND(NOT(Account.BillingCountry  = &apos;US&apos; ||  Account.BillingCountry = &apos;United States&apos;), ISBLANK(  Account.Cegedim_Id__c) , ISBLANK( Account.OneKeyID__c ))),
ISCHANGED(StatusCategory),
ISPICKVAL(StatusCategory,&quot;Completed&quot;)
)</errorConditionFormula>
    <errorDisplayField>HRCFSL_Activity_Type__c</errorDisplayField>
    <errorMessage>This Work Order can not be completed until the related Account is created in the ERP system.</errorMessage>
</ValidationRule>
