<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>HRCSVC20_Patient_details_are_required</fullName>
    <active>true</active>
    <description>SE-2020 - The requirement to have a proper error message for US users when the patient name is left blank on SQD and SQ6 work orders as they were getting a generic error message.</description>
    <errorConditionFormula>NOT( $Setup.HRCFSL_Org_Exception_Rule__c.HRCFSL_Validation_Rule__c )

&amp;&amp;

OR(Location.HRCSVC_Region__c = &quot;US&quot;,Location.HRCSVC_Region__c = &quot;Canada&quot;)

&amp;&amp;

OR( ISBLANK(  HRCFSL_Patient_First_Name__c  ) , ISBLANK(  HRCFSL_Patient_Last_Name__c  ) )

&amp;&amp;

CONTAINS($CustomMetadata.HRCFSL_Organization_Settings__mdt.HRCFSL_Applicable_Work_Types_SA_Validatn.HRCFSL_Component_Detail__c ,  HRCFSL_Work_Type_Name__c)

&amp;&amp;

ISNEW()</errorConditionFormula>
    <errorMessage>Please fill in the patient&apos;s first name and last name</errorMessage>
</ValidationRule>
