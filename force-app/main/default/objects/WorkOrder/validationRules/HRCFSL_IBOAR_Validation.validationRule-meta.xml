<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>HRCFSL_IBOAR_Validation</fullName>
    <active>true</active>
    <errorConditionFormula>AND( CONTAINS(
$CustomMetadata.HRCFSL_Organization_Settings__mdt.HRCFSL_Applicable_IBOAR_Doc_Types.HRCFSL_Component_Detail__c , text(HRCFSL_Doc_Type__c) ),
NOT(CONTAINS( $CustomMetadata.HRCFSL_Organization_Settings__mdt.Allowed_WorkType.HRCFSL_Component_Detail__c , HRCFSL_Work_Type_Name__c )),
$Setup.HRCFSL_Org_Exception_Rule__c.HRCFSL_Validation_Rule__c = FALSE,
NOT(ISBLANK(AssetId)),
NOT(ISPICKVAL(Status, &quot;SE&quot;)),
NOT(ISBLANK( TEXT(HRCFSL_Doc_Type__c ))),
NOT(ISBLANK( TEXT(HRCFSL_Activity_Type__c) )),
(text(Status) = &apos;SA&apos;||ischanged(Status)),
ISBLANK(
VLOOKUP(
$ObjectType.HRCFSL_IBOAR__c.Fields.HRFSL_IBOAR_ID__c ,
$ObjectType.HRCFSL_IBOAR__c.Fields.Name ,
HRCFSL_IBOAR_ID__c)))</errorConditionFormula>
    <errorDisplayField>HRCFSL_Activity_Type__c</errorDisplayField>
    <errorMessage>It is not possible to create a Work Order with this Doc. Type - Activity Type combination and Asset Status.</errorMessage>
</ValidationRule>
